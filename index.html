<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Animate.fun</title><style>body{margin:0;background:#000;color:#fff;font-family:sans-serif}a{color:#0af;cursor:pointer;display:block;margin:1rem 0;}canvas{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;}</style></head><body><div id="loader" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;font-size:2rem;background:#111;z-index:10">Loading...</div><main><h1>Animate.fun</h1><a onclick="startGravityBalls()">Gravity Balls (working)</a><a onclick="startShaderPlayground()">Shader Playground (working)</a><a onclick="startMouseTrails()">Mouse Trails (working)</a></main><canvas id="game" style="display:none"></canvas><script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script><script>const c=document.getElementById('game'),ctx=c.getContext('2d');let engine,render,scene,camera,renderer,animId,trail=[],trailAnim;window.onload=()=>gsap.to('#loader',{y:'-100%',duration:1,onComplete:()=>document.getElementById('loader').style.display='none'});function resize(){c.width=window.innerWidth;c.height=window.innerHeight;if(render){render.canvas.width=c.width;render.canvas.height=c.height;render.options.width=c.width;render.options.height=c.height;}if(renderer){renderer.setSize(c.width,c.height);camera.aspect=c.width/c.height;camera.updateProjectionMatrix();}}window.onresize=resize;function stopAll(){if(render){Matter.Render.stop(render);Matter.Engine.clear(engine);render.canvas.remove();render=null;engine=null;}if(animId){cancelAnimationFrame(animId);animId=null;}if(renderer){renderer.dispose();renderer.forceContextLoss();renderer=null;scene=null;camera=null;}if(trailAnim){cancelAnimationFrame(trailAnim);trailAnim=null;}trail=[];ctx.clearRect(0,0,c.width,c.height);}function startGravityBalls(){stopAll();resize();engine=Matter.Engine.create();render=Matter.Render.create({canvas:c,engine:engine,options:{width:c.width,height:c.height,background:'#000',wireframes:false}});const ground=Matter.Bodies.rectangle(c.width/2,c.height-50,c.width,100,{isStatic:true});const ball=Matter.Bodies.circle(200,100,40,{restitution:0.9,render:{fillStyle:'#f5a623'}});Matter.World.add(engine.world,[ground,ball]);Matter.Engine.run(engine);Matter.Render.run(render);}function startShaderPlayground(){stopAll();resize();scene=new THREE.Scene();camera=new THREE.PerspectiveCamera(75,c.width/c.height,0.1,1000);renderer=new THREE.WebGLRenderer({canvas:c});renderer.setSize(c.width,c.height);camera.position.z=1;const geometry=new THREE.PlaneGeometry(2,2);const material=new THREE.ShaderMaterial({uniforms:{time:{value:0}},fragmentShader:`uniform float time;void main(){vec2 uv=gl_FragCoord.xy/vec2(${c.width.toFixed(1)},${c.height.toFixed(1)});float r=abs(sin(time+uv.x*10.0));float g=abs(sin(time+uv.y*10.0));float b=0.5;gl_FragColor=vec4(r,g,b,1.0);}`});const mesh=new THREE.Mesh(geometry,material);scene.add(mesh);function animate(t){material.uniforms.time.value=t*0.001;renderer.render(scene,camera);animId=requestAnimationFrame(animate);}animate();}function startMouseTrails(){stopAll();resize();trail=[];window.onmousemove=e=>{trail.push({x:e.clientX,y:e.clientY});if(trail.length>100)trail.shift();};function draw(){ctx.clearRect(0,0,c.width,c.height);for(let i=0;i<trail.length;i++){ctx.beginPath();ctx.fillStyle=`rgba(255,255,255,${i/trail.length})`;ctx.arc(trail[i].x,trail[i].y,6*(i/trail.length),0,Math.PI*2);ctx.fill();}trailAnim=requestAnimationFrame(draw);}draw();}</script></body></html>
